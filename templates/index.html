// Form submit with spinner
const form = document.getElementById('feedbackForm');
const spinner = document.getElementById('spinner');

form.addEventListener('submit', async (e) => {
  e.preventDefault();
  spinner.style.display = 'block';

  const formData = new FormData(form);
  const data = Object.fromEntries(formData.entries());

  // Dummy fetch example (replace with your Flask POST endpoint)
  await fetch('/submit', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(data)
  });

  spinner.style.display = 'none';
  alert('Feedback submitted!');
  form.reset();
});

// Chart.js example (for dashboard)
const ctx = document.getElementById('sentimentChart');
if(ctx){
  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: ['Positive', 'Neutral', 'Negative'],
      datasets: [{
        label: 'Feedback Count',
        data: [12, 5, 3], // replace with actual counts from backend
        backgroundColor: ['#4CAF50','#FFC107','#F44336']
      }]
    },
    options: {
      responsive: true,
      animation: { duration: 1000 },
    }
  });
}
